<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <label for="name">Ime</label>
    <input type="text" id="ime" /> <br />
    <label for="name">Prezime</label>
    <input type="text" id="prezime" /> <br />

    <label for="name">Index</label>
    <input type="text" id="index" /> <br />

    <label for="name">Predmet</label>
    <input type="text" id="predmet" /> <br />

    <label for="name">Ocena</label>
    <select name="ocena" id="ocena">
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>

    <br />

    <button id="validateButton" onclick="validiraj()">Validiraj</button>

    <div id="validated" >
        <!-- ✔️ ili ❌ -->
    </div>

    <button onclick="add()">Dodadi</button>
    <br />
    <br />

    <table border="1" id="table" >
      <tr id="headerRow">
        <th>Ime</th>
        <th>Prezime</th>
        <th>Index</th>
        <th>Predmet</th>
        <th>Ocena</th>
        <th>Actions</th>
      </tr>

      
    </table>
<script>
let ime = "",
  prezime = "",
  index = "",
  predmet = "",
  ocena = "";
let students = [];

function validiraj() {
  ime = document.getElementById("ime").value;
  prezime = document.getElementById("prezime").value;
  index = document.getElementById("index").value;
  predmet = document.getElementById("predmet").value;
  ocena = document.getElementById("ocena").value;

  //losi slucai
  let validIndex =
    (index.length !== 6 || index.length !== 7) && /\d+/.test(index);

  let validationOutputDiv = document.getElementById("validated");
//   debugger;
//   if(ime.value.length < 3  || prezime.length < 3 || !validIndex || predmet.length < 3){

//       if(ime.value === ""){
//           ime.style.border = "1px solid red"
//       }
//       // alert('los input')
//       validationOutputDiv.innerHTML = "😢"
//       return
//   }

  validationOutputDiv.innerHTML = "✔";
}

function add() {
  let table = document.getElementById("table");
  let tableRow = document.createElement("tr");

  tableRow.innerHTML = `
        <td>${ime}</td>
        <td>${prezime}</td>
        <td>${index}</td>
        <td>${predmet}</td>
        <td>${ocena}</td>
        <td><button onclick="confirmRow(this, ${ime})" >Confirm</button> <button onclick="deleteRow(this)">Delete</button></td>
`;


  table.appendChild(tableRow);
  students.push({
    ime,
    prezime,
    index,
    predmet,
    ocena,
  });
}

function confirmRow(node, name) {
  node.parentNode.parentNode.style.backgroundColor = "lightgreen";
  node.parentNode.firstChild.disabled = "disabled";
  node.parentNode.lastChild.disabled = "disabled";
  confirmedStudents.push(name);
}

function deleteRow(node) {
  console.log(node);
  node.parentNode.parentNode.remove();
}

// document.getElementById('validateButton').addEventListener('click', validiraj)


</script>
  </body>
</html>
